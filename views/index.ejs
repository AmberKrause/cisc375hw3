<!DOCTYPE html>
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<style type="text/css">
		html{font-size: 62.5%;}
		body{font-size: 2rem; color: #3e3e3e;}
		table, tr, td {border-style: solid;}
		tr {font-size: 2rem;}
		form {margin-bottom: 10px;}
		.display-none { position: absolute; top: 25%; left: 25%; font-size:5rem; display: none;}
		.heartBeatDisplay {display: inline-block; animation:heartBeat 1s; animation-iteration-count: infinite;}
		@keyframes heartBeat {from {transform: scale(1.0);} to {transform: scale(1.5);} }
		#about {position: absolute; top: 0em; right: 5%; text-decoration: none; color: #3e3e3e;}

	</style>
	<script type="text/javascript">
		function autoInit() {
			var loading = document.getElementById('submitItem');
			loading.addEventListener('click', function(event) {
				var inputItem = document.getElementById('inputItem');
				if(inputItem.value !== null) {document.getElementById('loadingItem').classList.add('heartBeatDisplay')}
			});

			var category = document.getElementById("category");
			category.addEventListener("change", function(event) {
				var titleLabel = document.getElementById("titleLabel");
				var profLabel = document.getElementById("profLabel");
				var titleSelect = document.getElementById("titleSelect");
				var profSelect = document.getElementById("profSelect");
				console.log(event);
				if(event.target.value === "title") {
					console.log("switching to title");
					titleLabel.style.display="block";
					titleSelect.style.display="block";
					profLabel.style.display="none";
					profSelect.style.display="none";
				}
				else {
					console.log("switching to person");
					titleLabel.style.display="none";
					titleSelect.style.display="none";
					profLabel.style.display="block";
					profSelect.style.display="block";
				}
			});
		}

	</script>
	<title>Home</title>
</head>
<body onload="autoInit()">
	<div id="container">
		<h1>TV/Movie Wiki</h1>
		<form action="/search" method="POST">
			<div>
				Search: <input name="search_text" type="text" id="inputItem">
				<select id="category" name="category">
					<option value="title">Title</option>
					<option value="person">Person</option>
				</select>
				<input type="submit" value="Submit" id="submitItem">
			</div>
			<div style="height: 20px;"></div>
			<div>
				Activate Filter:<input type="checkbox" name="filter">
				<div id="titleLabel">Title Type:</div>
				<div id="profLabel" style="display: none;">Profession:</div>
				<div id="titleSelect"><select name="type">
					<option value="short">Short</option>
					<option value="movie">Movie</option>
					<option value="tvMovie">TV Movie</option>
					<option value="tvSeries">TV Series</option>
					<option value="tvShort">TV Short</option>
					<option value="tvMiniSeries">TV Mini Series</option>
					<option value="tvSpecial">TV Special</option>
					<option value="videoGame">Video Game</option>
				</select></div>
				<div id="profSelect" style="display: none;"><select name="profession">
					<option value="soundtrack">soundtrack</option>
				  <option value="actor">actor</option>
				  <option value="miscellaneous">miscellaneous</option>
				  <option value="actress">actress</option>
				  <option value="producer">producer</option>
				  <option value="writer">writer</option>
				  <option value="director">director</option>
				  <option value="make_up_department">make_up_department</option>
				  <option value="composer">composer</option>
				  <option value="music_department">music_department</option>
				  <option value="assistant_director">assistant_director</option>
				  <option value="camera_department">camera_department</option>
				  <option value="casting_director">casting_director</option>
				  <option value="editor">editor</option>
				  <option value="set_decorator">set_decorator</option>
				  <option value="art_director">art_director</option>
				  <option value="stunts">stunts</option>
				  <option value="editorial_department">editorial_department</option>
				  <option value="costume_department">costume_department</option>
				  <option value="art_department">art_department</option>
				  <option value="executive">executive</option>
				  <option value="animation_department">animation_department</option>
				  <option value="special_effects">special_effects</option>
				  <option value="cinematographer">cinematographer</option>
				  <option value="production_designer">production_designer</option>
				  <option value="production_manager">production_manager</option>
				  <option value="sound_department">sound_department</option>
				  <option value="talent_agent">talent_agent</option>
				  <option value="casting_department">casting_department</option>
				  <option value="costume_designer">costume_designer</option>
				  <option value="visual_effects">visual_effects</option>
				  <option value="location_management">location_management</option>
				  <option value="transportation_department">transportation_department</option>
				  <option value="manager">manager</option>
				  <option value="legal">legal</option>
				  <option value="assistant">assistant</option>
				  <option value="publicist">publicist</option>
				</select></div>
			</div>
		</form>
	</div>
	<div id="loadingItem" class="display-none">Loading</div>
	<a href="about.html"><h1 id="about">About the Project</h1></a><!-- Should be with the index page-->
	<!-- Displays only if the user does not provide text information-->
		<% if(errors !=undefined) { %>
	<ul>
		<% errors.forEach(function(error){%>
		<li> <%= error.msg %> </li>
		<% }) %>
		</ul>
	<% } %>
	<!-- Displays only if the user does not provide text information-->
</body>
